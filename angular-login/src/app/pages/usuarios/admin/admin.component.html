<app-message></app-message>
<p-table [value]="usuarios | searchfilter: searchText : 'nome'" responsiveLayout="scroll">
  <ng-template  pTemplate="caption">
    <div class="flex table-header">
        <div class="col-4 p-0">
          <button pButton pRipple type="button" icon="pi pi-plus" (click)="dadosModal('create')" class="p-button-rounded p-button-text"></button>
          <button pButton pRipple type="button" icon="pi pi-database" (click)="restaurarModal()" class="p-button-rounded p-button-text"></button>
          <button pButton pRipple (click)="exportPDF()" type="button" icon="pi pi-file-pdf" class="p-button-rounded p-button-text" ></button>
        </div>
        <div class="col-4 text-center p-0">Lista de Usuários</div>
        <div class=" col-4 text-right p-0">

          <input type="text" pInputText [(ngModel)]="searchText"/>
        </div>
    </div>
  </ng-template>
  <ng-template pTemplate="header">
      <tr>
          <th pSortableColumn="id">ID <p-sortIcon field="id"></p-sortIcon></th>
          <th pSortableColumn="nome">Nome <p-sortIcon field="nome"></p-sortIcon></th>
          <th pSortableColumn="email">Email <p-sortIcon field="email"></p-sortIcon></th>
          <th pSortableColumn="roles">Tipo <p-sortIcon field="roles"></p-sortIcon></th>
          <th>Opções</th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-usuario>
      <tr>
          <td>{{ usuario.id }}</td>
          <td>{{ usuario.nome }}</td>
          <td>{{ usuario.email }}</td>
          <td>{{ usuario.roles }}</td>
          <td>
            <button pButton pRipple type="button" icon="pi pi-pencil" (click)="dadosModal('update', this.usuario)" class="p-button-rounded p-button-warning p-button-text"></button>
            <button *ngIf="!(usuarioAtivo === usuario.id)" pButton pRipple type="button" icon="pi pi-times" (click)="dialogExclusao(usuario.id)" class="p-button-rounded p-button-danger p-button-text"></button>
          </td>
      </tr>
  </ng-template>
  <ng-template pTemplate="summary">
    <div class="flex align-items-center justify-content-between">
      Tipo de Usuário: ADMIN
    </div>
</ng-template>
</p-table>
<p-confirmDialog
  header="Confirmação"
  icon="pi pi-exclamation-triangle"
></p-confirmDialog>

